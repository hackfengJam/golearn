DROP TABLE IF EXISTS `audit_coin_voucher_0`; CREATE TABLE `audit_coin_voucher_0`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_0`; CREATE TABLE `decoration_0`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_0`; CREATE TABLE `visitor_event_0` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_0`; CREATE TABLE `check_in_event_0` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_0`; CREATE TABLE `inset_0` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_0`; CREATE TABLE `game_task_log_0`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_0`; CREATE TABLE `send_award_log_0`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_0`; CREATE TABLE `activate_game_task_0`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_1`; CREATE TABLE `audit_coin_voucher_1`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_1`; CREATE TABLE `decoration_1`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_1`; CREATE TABLE `visitor_event_1` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_1`; CREATE TABLE `check_in_event_1` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_1`; CREATE TABLE `inset_1` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_1`; CREATE TABLE `game_task_log_1`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_1`; CREATE TABLE `send_award_log_1`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_1`; CREATE TABLE `activate_game_task_1`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_2`; CREATE TABLE `audit_coin_voucher_2`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_2`; CREATE TABLE `decoration_2`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_2`; CREATE TABLE `visitor_event_2` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_2`; CREATE TABLE `check_in_event_2` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_2`; CREATE TABLE `inset_2` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_2`; CREATE TABLE `game_task_log_2`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_2`; CREATE TABLE `send_award_log_2`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_2`; CREATE TABLE `activate_game_task_2`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_3`; CREATE TABLE `audit_coin_voucher_3`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_3`; CREATE TABLE `decoration_3`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_3`; CREATE TABLE `visitor_event_3` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_3`; CREATE TABLE `check_in_event_3` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_3`; CREATE TABLE `inset_3` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_3`; CREATE TABLE `game_task_log_3`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_3`; CREATE TABLE `send_award_log_3`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_3`; CREATE TABLE `activate_game_task_3`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_4`; CREATE TABLE `audit_coin_voucher_4`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_4`; CREATE TABLE `decoration_4`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_4`; CREATE TABLE `visitor_event_4` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_4`; CREATE TABLE `check_in_event_4` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_4`; CREATE TABLE `inset_4` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_4`; CREATE TABLE `game_task_log_4`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_4`; CREATE TABLE `send_award_log_4`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_4`; CREATE TABLE `activate_game_task_4`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_5`; CREATE TABLE `audit_coin_voucher_5`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_5`; CREATE TABLE `decoration_5`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_5`; CREATE TABLE `visitor_event_5` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_5`; CREATE TABLE `check_in_event_5` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_5`; CREATE TABLE `inset_5` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_5`; CREATE TABLE `game_task_log_5`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_5`; CREATE TABLE `send_award_log_5`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_5`; CREATE TABLE `activate_game_task_5`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_6`; CREATE TABLE `audit_coin_voucher_6`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_6`; CREATE TABLE `decoration_6`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_6`; CREATE TABLE `visitor_event_6` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_6`; CREATE TABLE `check_in_event_6` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_6`; CREATE TABLE `inset_6` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_6`; CREATE TABLE `game_task_log_6`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_6`; CREATE TABLE `send_award_log_6`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_6`; CREATE TABLE `activate_game_task_6`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_7`; CREATE TABLE `audit_coin_voucher_7`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_7`; CREATE TABLE `decoration_7`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_7`; CREATE TABLE `visitor_event_7` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_7`; CREATE TABLE `check_in_event_7` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_7`; CREATE TABLE `inset_7` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_7`; CREATE TABLE `game_task_log_7`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_7`; CREATE TABLE `send_award_log_7`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_7`; CREATE TABLE `activate_game_task_7`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_8`; CREATE TABLE `audit_coin_voucher_8`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_8`; CREATE TABLE `decoration_8`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_8`; CREATE TABLE `visitor_event_8` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_8`; CREATE TABLE `check_in_event_8` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_8`; CREATE TABLE `inset_8` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_8`; CREATE TABLE `game_task_log_8`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_8`; CREATE TABLE `send_award_log_8`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_8`; CREATE TABLE `activate_game_task_8`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_9`; CREATE TABLE `audit_coin_voucher_9`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_9`; CREATE TABLE `decoration_9`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_9`; CREATE TABLE `visitor_event_9` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_9`; CREATE TABLE `check_in_event_9` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_9`; CREATE TABLE `inset_9` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_9`; CREATE TABLE `game_task_log_9`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_9`; CREATE TABLE `send_award_log_9`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_9`; CREATE TABLE `activate_game_task_9`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_10`; CREATE TABLE `audit_coin_voucher_10`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_10`; CREATE TABLE `decoration_10`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_10`; CREATE TABLE `visitor_event_10` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_10`; CREATE TABLE `check_in_event_10` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_10`; CREATE TABLE `inset_10` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_10`; CREATE TABLE `game_task_log_10`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_10`; CREATE TABLE `send_award_log_10`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_10`; CREATE TABLE `activate_game_task_10`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_11`; CREATE TABLE `audit_coin_voucher_11`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_11`; CREATE TABLE `decoration_11`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_11`; CREATE TABLE `visitor_event_11` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_11`; CREATE TABLE `check_in_event_11` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_11`; CREATE TABLE `inset_11` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_11`; CREATE TABLE `game_task_log_11`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_11`; CREATE TABLE `send_award_log_11`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_11`; CREATE TABLE `activate_game_task_11`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_12`; CREATE TABLE `audit_coin_voucher_12`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_12`; CREATE TABLE `decoration_12`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_12`; CREATE TABLE `visitor_event_12` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_12`; CREATE TABLE `check_in_event_12` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_12`; CREATE TABLE `inset_12` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_12`; CREATE TABLE `game_task_log_12`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_12`; CREATE TABLE `send_award_log_12`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_12`; CREATE TABLE `activate_game_task_12`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_13`; CREATE TABLE `audit_coin_voucher_13`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_13`; CREATE TABLE `decoration_13`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_13`; CREATE TABLE `visitor_event_13` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_13`; CREATE TABLE `check_in_event_13` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_13`; CREATE TABLE `inset_13` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_13`; CREATE TABLE `game_task_log_13`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_13`; CREATE TABLE `send_award_log_13`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_13`; CREATE TABLE `activate_game_task_13`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_14`; CREATE TABLE `audit_coin_voucher_14`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_14`; CREATE TABLE `decoration_14`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_14`; CREATE TABLE `visitor_event_14` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_14`; CREATE TABLE `check_in_event_14` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_14`; CREATE TABLE `inset_14` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_14`; CREATE TABLE `game_task_log_14`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_14`; CREATE TABLE `send_award_log_14`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_14`; CREATE TABLE `activate_game_task_14`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_15`; CREATE TABLE `audit_coin_voucher_15`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_15`; CREATE TABLE `decoration_15`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_15`; CREATE TABLE `visitor_event_15` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_15`; CREATE TABLE `check_in_event_15` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_15`; CREATE TABLE `inset_15` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_15`; CREATE TABLE `game_task_log_15`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_15`; CREATE TABLE `send_award_log_15`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_15`; CREATE TABLE `activate_game_task_15`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_16`; CREATE TABLE `audit_coin_voucher_16`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_16`; CREATE TABLE `decoration_16`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_16`; CREATE TABLE `visitor_event_16` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_16`; CREATE TABLE `check_in_event_16` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_16`; CREATE TABLE `inset_16` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_16`; CREATE TABLE `game_task_log_16`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_16`; CREATE TABLE `send_award_log_16`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_16`; CREATE TABLE `activate_game_task_16`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_17`; CREATE TABLE `audit_coin_voucher_17`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_17`; CREATE TABLE `decoration_17`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_17`; CREATE TABLE `visitor_event_17` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_17`; CREATE TABLE `check_in_event_17` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_17`; CREATE TABLE `inset_17` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_17`; CREATE TABLE `game_task_log_17`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_17`; CREATE TABLE `send_award_log_17`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_17`; CREATE TABLE `activate_game_task_17`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_18`; CREATE TABLE `audit_coin_voucher_18`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_18`; CREATE TABLE `decoration_18`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_18`; CREATE TABLE `visitor_event_18` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_18`; CREATE TABLE `check_in_event_18` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_18`; CREATE TABLE `inset_18` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_18`; CREATE TABLE `game_task_log_18`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_18`; CREATE TABLE `send_award_log_18`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_18`; CREATE TABLE `activate_game_task_18`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 
DROP TABLE IF EXISTS `audit_coin_voucher_19`; CREATE TABLE `audit_coin_voucher_19`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `trade_type` tinyint(3) NOT NULL DEFAULT '0' COMMENT '交易类型：[0 非法值 | 1 兑换装饰(支出)| 2 兑换奖励(支出) | 3 装饰每日收益(收入)| 4 完成新人引导(收入) | 5 完成任务(收入)| 6 访客事件奖励(收入)', `is_income` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为收入：[true 收入 |false 支出]', `coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园币数', `after_coin` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园币数', `voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增乐园券数', `after_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '新增后账户合计乐园券数', `note` text NOT NULL COMMENT '备注', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', PRIMARY KEY (`id`), KEY `idx_region_aid` (`region`, `uid`), KEY `idx_create_time` (`create_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户账户更新流水表'; 
DROP TABLE IF EXISTS `decoration_19`; CREATE TABLE `decoration_19`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。标识一个装饰', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `price_coin` int(11) NOT NULL DEFAULT '0' COMMENT '购买价格（乐园币）', `continuous_effect_coin` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园币（x/天）', `continuous_effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '道具效果【代币产出效率】持续收益：乐园券（x/天）', `pay_count` int(11) NOT NULL DEFAULT '0' COMMENT '购买数量', `pay_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '装饰兑换时间点', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_decoration_no` (`region`, `uid`, `decoration_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户装饰表'; 
DROP TABLE IF EXISTS `visitor_event_19`; CREATE TABLE `visitor_event_19` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `visitor_date` varchar(16) NOT NULL DEFAULT '' COMMENT '首次触发日期 YYYY-MM-dd。如：20210122', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `effect_voucher` int(11) NOT NULL DEFAULT '0' COMMENT '首次触发收益。固定收益：乐园券', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `visitor_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '首次触发，访问时间', `visitor_count` int(11) NOT NULL DEFAULT '0' COMMENT '触发次数', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户访客事件表'; 
DROP TABLE IF EXISTS `check_in_event_19`; CREATE TABLE `check_in_event_19` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `event_no` int(11) NOT NULL DEFAULT '0' COMMENT '事件编号', `magic_no` int(11) NOT NULL DEFAULT '0' COMMENT '魔物编号', `name` varchar(128) NOT NULL DEFAULT '' COMMENT '魔物名称', `decoration_no` int(11) NOT NULL DEFAULT '0' COMMENT '装饰编号。无需装饰则为0', `check_in_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '入住时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_event_no` (`region`, `uid`, `event_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户入住事件表'; 
DROP TABLE IF EXISTS `inset_19`; CREATE TABLE `inset_19` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `picture_no` int(11) NOT NULL DEFAULT '0' COMMENT '插画编号 — 观察日记-插画【类似旅行青蛙明信片】', `collection_date` varchar(16) NOT NULL DEFAULT '' COMMENT '收录日期 YYYY-MM-dd。如：20210122', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '触发条件', `is_new` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否为新增插画', `collection_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收录时间', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_picture_no` (`region`, `uid`, `picture_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户插画表'; 
DROP TABLE IF EXISTS `game_task_log_19`; CREATE TABLE `game_task_log_19`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5]，海外没有 2。', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '任务编号', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `end_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务终了状态：[0 未终了 1 终了已完成 2 终了未完成（每日替换任务过期）]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `end_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '终了时间', `extra_data` text NOT NULL COMMENT '其他数据。json 格式', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户任务日志表'; 
DROP TABLE IF EXISTS `send_award_log_19`; CREATE TABLE `send_award_log_19`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `lang` varchar(16) NOT NULL DEFAULT '' COMMENT '语言code', `ticket` varchar(64) NOT NULL DEFAULT '' COMMENT '票据', `shop_reward_no` int(11) NOT NULL DEFAULT '0' COMMENT '奖励商店的奖励编号', `reward_id` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '发奖平台：发放奖励id', `reward_num` int(11) NOT NULL DEFAULT '1' COMMENT '发奖平台：发放奖励id的数量', `error_message` text NOT NULL COMMENT '错误原因', `origin_body` text NOT NULL COMMENT '发奖请求', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态，0->失败，1->成功', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), KEY `idx_region_uid` (`region`, `uid`, `shop_reward_no`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='奖励兑换发放日志表'; 
DROP TABLE IF EXISTS `activate_game_task_19`; CREATE TABLE `activate_game_task_19`( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `aid` varchar(32) NOT NULL DEFAULT '' COMMENT 'account ID', `region` varchar(32) NOT NULL DEFAULT '' COMMENT '游戏区服', `uid` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户ID', `task_name` varchar(16) NOT NULL DEFAULT '' COMMENT '任务名称：[1|2|3|4|5|6]', `task_no` int(11) NOT NULL DEFAULT '0' COMMENT '当前，任务编号。可能会变', `type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务类型：[1 每日任务-固定任务 |2 每日任务-轮替任务-APP内打开| 3 每日任务-轮替任务-外部浏览器打开 | 4 阶段任务]', `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '任务状态：[1 已完成 2 去完成【仅每日任务-轮替任务(米游社任务)存在该状态】3 领取 4 未完成]', `is_app_user_finished` tinyint(1) NOT NULL DEFAULT '0' COMMENT '如果是待领取状态。是否是 APP完成', `enter_days` int(11) NOT NULL COMMENT '需要玩家。玩家累计进入页面的天数', `start_date` varchar(16) NOT NULL DEFAULT '' COMMENT '开启日期 YYYY-MM-dd。如：20210122', `start_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '开启时间', `deadline` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '任务截止时间', `condition` varchar(1024) NOT NULL DEFAULT '' COMMENT '任务完成条件。没有则等待前端请求 完成任务接口 即可。', `is_final` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否最后任务：[true 是 |false 否]', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '插入时间', `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '最后一次更新时间', PRIMARY KEY (`id`), UNIQUE KEY `uk_region_uid_task_no` (`region`, `uid`, `task_name`), KEY `idx_create_time` (`create_time`), KEY `idx_update_time` (`update_time`)) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT ='用户当前任务表'; 